{% extends "user_template.html" %}
<!DOCTYPE html>

<html>
<head>
    {%block head%}
    {{super()}}
    {% block css %}
        <style>
            #wrapper{
                display: flex;
                justify-content: space-evenly;
                flex-direction: row;
            }
            #main {
                min-height: 100vh;
            }
            .section {
                border: 1px solid var(--accentbar);
                border-radius: 5px;


                min-width: 30%;
                text-align: center;

                height: 40vh;
                margin-top: 20px;
                
            }
            .section h1 {
                font-weight: bold;
                font-size: 30px;
                
                margin:10px;
            }

            .scroll {
                margin-left: auto;
                margin-right: auto;

                scrollbar-width: 2px;

                height: 80%;
                width: 95%;

                margin-bottom: 5px;

                border: 1px solid var(--accentbar);
                border-radius: 5px;

                text-align: center;

                background-color: var(--bgbar);
            }
            .scroll p {
                margin: 20px;
            }
            .scroll b {
                font-weight: bolder;
                font-size: large;
            }
            #title {
                background-color: var(--accent);
                margin-bottom: auto;
                
            }
            #title h1 {
                padding: 20px;
                font-weight: bold;
                font-size: 50px;color:var(--bg);
            }

    </style>
    {% endblock %}
    {%endblock%}
</head>
<body>
    
    <nav>
    {%block topbar%} <!--inherits from user_template-->
    {{super()}}
    {%endblock%}
    </nav>

    <div id="main">
        {% block main %}
        <div id="title">
            <div id="menu"><a onclick="hideSidenav()"><img src="{{url_for('static', filename='assets/menu.svg')}}"></a></div>
            <h1>Welcome, {{current_user.username}}</h1>
        </div>
        
        
        <div id="wrapper">
            <div class="section">
                <h1>Due Assignments</h1> 
                <!--show number of due assignments-->
                <!--show title of due assignment + duedate-->
                <div class="scroll">
                    <p><b># of Due Assignments:</b> {{ assignmentDetails|length }}</p>
                    {% for assignment in assignmentDetails %} <!--not sure if this work :/-->
                        <div class="assignment">
                            <div class="title">{{assignment[1]}}</div>
                            <div class="duedate">{{assignment[0]}}</div>
                            <div class="subject">{{assignment[2]}}</div>
                        </div>
                    {% endfor %}
                </div>

            </div>
            <div class="section">
                <h1>Classes</h1> <!--show the classes the user is enrolled in-->
                <div class="scroll">
                    <ul>
                        {% if enrolledClasses[0] == 1 %} <!--untested :)-->
                        <li>English</li>
                        {% endif %}

                        {% if enrolledClasses[1] == 1 %}
                        <li>Mathematics</li>
                        {% endif %}
                    </ul>
                </div>
            </div>
            <div class="section">
                <h1>Upcoming Classes</h1> <!--show upcoming classes-->
                <div class="scroll">
                    {% for class in classDates %}
                    <div class="class">
                        <div class="classdate">{{class[0]}}</div>
                        <div class="subject">{{class[1]}}</div>
                        <div class="classtime">{{class[2]}}</div>
                    </div>
                    {% endfor %}
                </div>
            
            </div>
        </div>

        {% endblock %}
    </div>

{% block js %}
{{super()}}
<script>
        const sidebarItems = document.querySelector('#topbar').getElementsByTagName('li');
        sidebarItems[1].classList.toggle('active'); //toggling home tab
</script>
{% endblock %}

</body>

</html>
